<div class="index-page">
  <app-navigation></app-navigation>

  <ng-container *ngIf="currentUser && profileUser">
    <ng-container *ngIf="currentUser.username !== profileUser.username; else currentUserPage">
      <app-other-user *ngIf="profileUser.securityRole.Id === 1" [inputUser]="profileUser"></app-other-user>
      <app-other-user-manager *ngIf="profileUser.securityRole.Id === 2" [inputUser]="profileUser"></app-other-user-manager>
    </ng-container>


    <ng-template #currentUserPage>
      <div class="profile-header">
        <app-profile-header></app-profile-header>
      </div>

      <div class="wrapper">

        <section class="section section-lg section-coins">
          <img src="../../../assets/img/path3.png" class="path position-fixed">
          <div class="container align-items-center wrapper-width">

                <div class="card">
                  <div class="card card-coin card-plain card-custom">

                    <div class="card-body" >
                      <div class="flex-container" fxLayout="row wrap" fxLayoutAlign="space-between">
                        <div fxFlex="30" fxHide.lt-sm fxShow.gt-xs fxLayoutAlign="start" >
                          <ul class="nobullets">
                            <li (click)="onViewItemClick('editProfile')" id="viewItem_editProfile" [ngClass]="{'toggled': currentView === 'editProfile'}">
                              Edit Profile
                            </li>
                            <li (click)="onViewItemClick('changePassword')" id="viewItem_changePassword" [ngClass]="{'toggled': currentView === 'changePassword'}">
                              Change Password
                            </li>
                            <ng-container *ngIf="profileUser.securityRole.Id !== 3">
                              <li (click)="onViewItemClick('privacySettings')" id="viewItem_privacySettings" [ngClass]="{'toggled': currentView === 'privacySettings'}">
                                Privacy Settings
                              </li>
                            </ng-container>
                            <li (click)="onViewItemClick('notificationSettings')" id="viewItem_notifications" [ngClass]="{'toggled': currentView === 'notificationSettings'}">
                              Notification Settings
                            </li>
                          </ul>
                        </div>
                        <div fxFlex="100%" fxShow.lt-sm fxHide.gt-xs fxLayoutAlign="end">
                          <div class="dropdown">
                            <button class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                              <i class="fa fa-ellipsis-h"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-right" >
                              <div class="h6 dropdown-header">Options</div>
                              <a class="dropdown-item" (click)="onViewItemClick('editProfile')" [ngClass]="{'toggled': currentView === 'editProfile'}">Edit Profile</a>
                              <a class="dropdown-item" (click)="onViewItemClick('changePassword')" [ngClass]="{'toggled': currentView === 'changePassword'}">Change Password</a>
                              <ng-container *ngIf="profileUser.securityRole.Id !== 3">
                                <a class="dropdown-item" (click)="onViewItemClick('privacySettings')" [ngClass]="{'toggled': currentView === 'privacySettings'}">
                                  Privacy Settings
                                </a>
                              </ng-container>
                              <a class="dropdown-item" (click)="onViewItemClick('notificationSettings')" [ngClass]="{'toggled': currentView === 'notificationSettings'}">Notification Settings</a>
                            </div>
                          </div>
                        </div>
                        <div fxFlex="70" fxFlex.lt-sm="100%">


                          <ng-container *ngIf="currentView === 'editProfile'">
                            <app-edit-profile  [option]="option" (clearOption)="clearOption($event)"></app-edit-profile>
                          </ng-container>

                          <ng-container *ngIf="currentView === 'changePassword'">
                            <app-change-password ></app-change-password>
                          </ng-container>
                          <ng-container *ngIf="currentView === 'privacySettings'">
                            <app-privacy-settings ></app-privacy-settings>
                          </ng-container>
                          <ng-container *ngIf="currentView === 'notificationSettings'">
                            <app-notification-settings (returnFromConfirmClick)="returnFromConfirmClick($event)"></app-notification-settings>
                          </ng-container>

                        </div>
                      </div>

                    </div>
                    <div class="card-footer text-center">
                      <!-----Button----->
                      <div class="container">
                        <div class="row">

                        </div>
                      </div>
                    </div>
                  </div>

                </div>







          </div>
        </section>


      </div>
    </ng-template>
  </ng-container>


</div>

