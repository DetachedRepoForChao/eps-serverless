<div class="index-page" >

  <app-navigation></app-navigation>
  <div class="wrapper">
    <section class="section section-lg section-coins">

      <img src="../../../assets/img/path3.png" class="path">
      <div class="container align-items-center">

        <div class="row">
          <div class="col-lg-12 col-md-6 col-sm-10 ml-auto mr-auto" id="confirmRequest">
            <div *ngIf="(this.storeItemQuery.selectLoading() | async) === false && managerRequests$; else storeLoading">
            <div class="card">
              <div class="card card-coin card-plain">
                <div class="card-body">


                  <div class="row">
                    <div class="col-md-12 text-center">
                      <h3> Hello there!</h3>
                      <span> Confirm Purchase Request</span>
                    </div>
                  </div>

                  <div>
                    <mat-table  #requestTable [dataSource]="managerRequests$" matSort>
                      <ng-container matColumnDef="recordId">
                        <mat-header-cell *matHeaderCellDef mat-sort-header>Request ID </mat-header-cell>
                        <mat-cell *matCellDef="let UserHasStoreItemModel">{{UserHasStoreItemModel.recordId}}</mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="userUsername">
                        <mat-header-cell *matHeaderCellDef mat-sort-header> Username </mat-header-cell>
                        <mat-cell *matCellDef="let UserHasStoreItemModel"> {{UserHasStoreItemModel.userUsername}}</mat-cell>
                      </ng-container>

                      <ng-container matColumnDef=storeItemName>
                        <mat-header-cell *matHeaderCellDef mat-sort-header> Item </mat-header-cell>
                        <mat-cell *matCellDef="let UserHasStoreItemModel"> {{UserHasStoreItemModel.storeItemName}}</mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="storeItemCost">
                        <mat-header-cell *matHeaderCellDef mat-sort-header> Item Cost </mat-header-cell>
                        <mat-cell *matCellDef="let UserHasStoreItemModel"> {{UserHasStoreItemModel.storeItemCost}}</mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="status">
                        <mat-header-cell *matHeaderCellDef mat-sort-header> Status </mat-header-cell>
                        <mat-cell *matCellDef="let UserHasStoreItemModel"> {{UserHasStoreItemModel.status}}</mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="acceptRequest">
                        <mat-header-cell *matHeaderCellDef> Action </mat-header-cell>
                        <mat-cell *matCellDef="let UserHasStoreItemModel">
                          <mat-radio-group [ngModel]="approveOptions">
                          <mat-radio-button *ngFor="let approveOption of approveOptions" [checked]="approveOption.checked" (change)="$event ? approvalToggle(UserHasStoreItemModel, $event) : null" [(ngModel)]="approveOption" [value]="approveOption" name="approve-option" ngDefaultControl>
                          {{approveOption.name}}
                        </mat-radio-button>
                          </mat-radio-group>
                        </mat-cell>
                      </ng-container>


                      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>


                    </mat-table>


                    <div class="container">
                      <button type="button" class="btn btn-success" (click)="openDialog()" >Save</button>
                      <button type="button" class="btn btn-danger" (click)="cancelApproval()" >Cancel</button>
                    </div>

                    <mat-paginator
                      [length] ="100"
                      [pageSize]= "10"
                      [pageSizeOptions] ="[5, 10, 25, 100]">
                    </mat-paginator>

                  </div>

                </div>
              </div>


            </div>

            </div>

            <ng-template #storeLoading>
              Loading...
            </ng-template>
          </div>


        </div>




      </div>

    </section>

  </div>
</div>

